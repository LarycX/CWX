{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<hero-header />\n\n\t\t<!-- spectrum-card removed temporarily -->\n\n\t\t<control-card\n\t\t\t@start=\"startAutoRepeat\"\n\t\t\t@stop=\"stopAutoRepeat\"\n\t\t\t@mark=\"enqueueMark\"\n\t\t/>\n\n\t\t<decoder-card\n\t\t\t:decoder-text=\"decoderText\"\n\t\t\t:wpm=\"wpm\"\n\t\t\t:tone-freq=\"toneFreq\"\n\t\t\t@wpm-change=\"onWpmChange\"\n\t\t\t@tone-change=\"onToneChange\"\n\t\t/>\n\n\t</view>\n</template>\n\n<script>\n\timport HeroHeader from './components/HeroHeader.vue'\n\timport ControlCard from './components/ControlCard.vue'\n\timport DecoderCard from './components/DecoderCard.vue'\n\timport CwDecoderEngine from './logic/cwDecoder'\n\timport {\n\t\tbuildBandSegments,\n\t\tbuildTicks,\n\t\tcomputeFrequencyFromScroll as calcFrequencyFromScroll,\n\t\tscrollLeftForFrequency as calcScrollLeftForFrequency\n\t} from './logic/spectrum'\n\timport { buildMarkSamples, encodeWav } from './logic/audio'\n\timport { createSignal, randomBandFrequency } from './logic/signal'\n\timport MorseCWWave from 'morse-pro/lib/morse-pro-cw-wave'\n\n\tconst SIGNAL_DURATION = 1400\n\tconst TICK_MS = 120\n\tconst WATERFALL_ROW_MS = 160\n\tconst WATERFALL_ROWS = 36\n\tconst BAND_GAP_PX = 160\n\tconst MIN_WPM = 5\n\tconst MAX_WPM = 30\n\tconst SAMPLE_RATE = 8000\n\r\n\texport default {\n\t\tcomponents: {\n\t\t\tHeroHeader,\n\t\t\tControlCard,\n\t\t\tDecoderCard\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbands: [{\r\n\t\t\t\t\t\tlabel: '3 MHz',\r\n\t\t\t\t\t\tmin: 3.01,\r\n\t\t\t\t\t\tmax: 3.2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '7 MHz',\r\n\t\t\t\t\t\tmin: 7.01,\r\n\t\t\t\t\t\tmax: 7.2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '10 MHz',\r\n\t\t\t\t\t\tmin: 10.01,\r\n\t\t\t\t\t\tmax: 10.2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '40 MHz',\r\n\t\t\t\t\t\tmin: 40.01,\r\n\t\t\t\t\t\tmax: 40.2\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcurrentFrequency: 3.01,\r\n\t\t\t\trulerScrollLeft: 0,\r\n\t\t\t\trulerViewportWidth: 0,\r\n\t\t\t\tsignals: [],\n\t\t\t\twaterfallRows: [],\n\t\t\t\tdecoderText: '',\n\t\t\t\tdecoderQueue: [],\n\t\t\t\tcwDecoder: null,\n\t\t\t\trecordStopTimer: null,\n\t\t\t\tdecoderQueueTimer: null,\n\t\t\t\twpm: 20,\n\t\t\t\ttoneFreq: 700,\n\t\t\t\tinputQueue: [],\n\t\t\t\trepeatTimers: {\n\t\t\t\t\t'.': null,\n\t\t\t\t\t'-': null\n\t\t\t\t},\n\t\t\t\tkeyDown: {\n\t\t\t\t\t'.': false,\n\t\t\t\t\t'-': false\n\t\t\t\t},\n\t\t\t\tisKeying: false,\n\t\t\t\tnextAvailableAt: 0,\n\t\t\t\tlastScheduledEndAt: 0,\n\t\t\t\tscheduledTimers: [],\n\t\t\t\tmorseWave: null,\n\t\t\t\twebAudioCtx: null,\n\t\t\t\tdotBuffer: null,\n\t\t\t\tdashBuffer: null,\n\t\t\t\tuseWebAudio: false,\n\t\t\t\tdotAudioCtx: null,\n\t\t\t\tdashAudioCtx: null,\n\t\t\t\taudioReady: false,\n\t\t\t\tdotPath: '',\n\t\t\t\tdashPath: '',\n\t\t\t\tkeyListenerBound: false,\n\t\t\t\tintervalId: null,\n\t\t\t\tnoiseId: null,\n\t\t\t\twaterfallId: null,\n\t\t\t\tcharGapTimer: null\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tcurrentBand() {\n\t\t\t\tconst direct = this.bands.find((band) => this.currentFrequency >= band.min && this.currentFrequency <= band\r\n\t\t\t\t\t.max)\r\n\t\t\t\tif (direct) {\r\n\t\t\t\t\treturn direct\r\n\t\t\t\t}\r\n\t\t\t\treturn this.bands[0]\r\n\t\t\t},\r\n\t\t\tbandSegments() {\n\t\t\t\treturn buildBandSegments(this.bands, this.pxPerMHz, BAND_GAP_PX)\n\t\t\t},\n\t\t\ttotalBandWidth() {\r\n\t\t\t\tif (this.bandSegments.length === 0) {\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t\treturn this.bandSegments[this.bandSegments.length - 1].endX\r\n\t\t\t},\r\n\t\t\tpxPerMHz() {\r\n\t\t\t\treturn 20000\r\n\t\t\t},\r\n\t\t\trulerContentWidth() {\r\n\t\t\t\treturn Math.round(this.totalBandWidth)\r\n\t\t\t},\r\n\t\t\trulerSpacer() {\r\n\t\t\t\treturn Math.round(this.rulerViewportWidth / 2)\r\n\t\t\t},\r\n\t\t\trulerContentStyle() {\n\t\t\t\treturn `width:${this.rulerContentWidth + this.rulerSpacer * 2}px;height:200rpx;`\n\t\t\t},\n\t\t\tsignalsInBand() {\n\t\t\t\tconst band = this.currentBand\n\t\t\t\treturn this.signals.filter((signal) => signal.freq >= band.min && signal.freq <= band.max)\n\t\t\t},\n\t\t\tticks() {\n\t\t\t\treturn buildTicks(this.bandSegments, this.rulerSpacer, this.pxPerMHz)\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.cwDecoder = new CwDecoderEngine()\n\t\t\tthis.resetFrequency()\n\t\t\tthis.intervalId = setInterval(this.tickSignals, TICK_MS)\n\t\t\tthis.noiseId = setInterval(this.spawnNoiseSignal, 800)\n\t\t\tthis.waterfallId = setInterval(this.addWaterfallRow, WATERFALL_ROW_MS)\n\t\t\tthis.decoderQueueTimer = setInterval(this.shiftDecoderQueue, 5000)\n\t\t\tthis.setupAudio()\n\t\t\tthis.bindKeyboard()\n\t\t},\n\t\tonReady() {\r\n\t\t\tthis.measureRuler()\r\n\t\t},\r\n\t\tonUnload() {\n\t\t\tif (this.intervalId) {\n\t\t\t\tclearInterval(this.intervalId)\n\t\t\t}\n\t\t\tif (this.noiseId) {\n\t\t\t\tclearInterval(this.noiseId)\n\t\t\t}\n\t\t\tif (this.waterfallId) {\n\t\t\t\tclearInterval(this.waterfallId)\n\t\t\t}\n\t\t\tif (this.decoderQueueTimer) {\n\t\t\t\tclearInterval(this.decoderQueueTimer)\n\t\t\t}\n\t\t\tthis.teardownAudio()\n\t\t\tthis.unbindKeyboard()\n\t\t},\n\t\tmethods: {\n\t\t\tgetUnitMs() {\n\t\t\t\treturn Math.max(40, Math.round(1200 / this.wpm))\n\t\t\t},\n\t\t\tresetFrequency() {\n\t\t\t\tthis.currentFrequency = this.bands[0].min\n\t\t\t\tthis.decoderText = ''\n\t\t\t\tthis.initDecoderQueue()\n\t\t\t\tthis.rulerScrollLeft = 0\n\t\t\t\tthis.waterfallRows = []\n\t\t\t\tif (this.cwDecoder) {\n\t\t\t\t\tthis.cwDecoder.reset()\n\t\t\t\t}\n\t\t\t},\n\t\t\tonRulerScroll(event) {\r\n\t\t\t\tconst scrollLeft = event.detail.scrollLeft || 0\r\n\t\t\t\tthis.rulerScrollLeft = scrollLeft\r\n\t\t\t\tthis.updateFrequencyFromScroll(scrollLeft)\r\n\t\t\t},\r\n\t\t\tonWaterfallScroll(event) {\r\n\t\t\t\tthis.onRulerScroll(event)\r\n\t\t\t},\r\n\t\t\tmeasureRuler() {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\t\tquery.select('.ruler-scroll').boundingClientRect((rect) => {\r\n\t\t\t\t\tif (!rect) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.rulerViewportWidth = rect.width || 0\r\n\t\t\t\t\tthis.rulerScrollLeft = this.scrollLeftForFrequency(this.currentFrequency)\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\tbindKeyboard() {\n\t\t\t\tif (this.keyListenerBound || typeof document === 'undefined') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.keyListenerBound = true\n\t\t\t\tdocument.addEventListener('keydown', this.onKeydown)\n\t\t\t\tdocument.addEventListener('keyup', this.onKeyup)\n\t\t\t\twindow.addEventListener('blur', this.onKeyup)\n\t\t\t},\n\t\t\tunbindKeyboard() {\n\t\t\t\tif (!this.keyListenerBound || typeof document === 'undefined') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tdocument.removeEventListener('keydown', this.onKeydown)\n\t\t\t\tdocument.removeEventListener('keyup', this.onKeyup)\n\t\t\t\twindow.removeEventListener('blur', this.onKeyup)\n\t\t\t\tthis.keyListenerBound = false\n\t\t\t},\n\t\t\tonKeydown(event) {\n\t\t\t\tif (!event || !event.key) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (event.key !== '.' && event.key !== '-') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (event.repeat) {\n\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.startAutoRepeat(event.key)\n\t\t\t\tevent.preventDefault()\n\t\t\t},\n\t\t\tonKeyup(event) {\n\t\t\t\tif (!event || !event.key) {\n\t\t\t\t\tthis.stopAllAutoRepeat()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (event.key === '.' || event.key === '-') {\n\t\t\t\t\tthis.stopAutoRepeat(event.key)\n\t\t\t\t\tevent.preventDefault()\n\t\t\t\t}\n\t\t\t},\n\t\t\tstartAutoRepeat(mark) {\n\t\t\t\tif (mark !== '.' && mark !== '-') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (this.repeatTimers[mark]) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.keyDown[mark] = true\n\t\t\t\t// Fire immediately, then schedule subsequent repeats off the timeline tail.\n\t\t\t\tthis.enqueueMark(mark)\n\t\t\t\tthis.scheduleRepeatTick(mark)\n\t\t\t},\n\t\t\tscheduleRepeatTick(mark) {\n\t\t\t\tif (mark !== '.' && mark !== '-') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (!this.keyDown[mark]) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst now = Date.now()\n\t\t\t\t// Align the next enqueue with the scheduler's timeline tail.\n\t\t\t\tconst nextAt = Math.max(now, this.nextAvailableAt || 0)\n\t\t\t\tconst delayMs = Math.max(16, nextAt - now)\n\t\t\t\tconst timerId = setTimeout(() => {\n\t\t\t\t\tthis.repeatTimers[mark] = null\n\t\t\t\t\tif (!this.keyDown[mark]) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.enqueueMark(mark)\n\t\t\t\t\tthis.scheduleRepeatTick(mark)\n\t\t\t\t}, delayMs)\n\t\t\t\tthis.repeatTimers[mark] = timerId\n\t\t\t},\n\t\t\tstopAutoRepeat(mark) {\n\t\t\t\tif (mark !== '.' && mark !== '-') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.keyDown[mark] = false\n\t\t\t\tconst timerId = this.repeatTimers[mark]\n\t\t\t\tif (timerId) {\n\t\t\t\t\tclearTimeout(timerId)\n\t\t\t\t}\n\t\t\t\tthis.repeatTimers[mark] = null\n\t\t\t\t// When the user releases the key, re-arm gap timers based on the\n\t\t\t\t// current schedule tail.\n\t\t\t\tthis.rescheduleGapTimers(this.getUnitMs())\n\t\t\t},\n\t\t\tstopAllAutoRepeat() {\n\t\t\t\tthis.stopAutoRepeat('.')\n\t\t\t\tthis.stopAutoRepeat('-')\n\t\t\t},\n\t\t\tenqueueMark(mark) {\n\t\t\t\tif (this.inputQueue.length < 40) {\n\t\t\t\t\tthis.inputQueue.push(mark)\n\t\t\t\t}\n\t\t\t\tthis.processQueue()\n\t\t\t},\n\t\t\tonWpmChange(event) {\n\t\t\t\tconst value = event.detail.value\n\t\t\t\tthis.wpm = Math.min(MAX_WPM, Math.max(MIN_WPM, Number(value)))\n\t\t\t\tthis.clearScheduledTimers()\n\t\t\t\tif (!this.useWebAudio) {\n\t\t\t\t\tthis.morseWave = new MorseCWWave({\n\t\t\t\t\t\twpm: this.wpm,\n\t\t\t\t\t\tfrequency: this.toneFreq,\n\t\t\t\t\t\tsampleRate: SAMPLE_RATE\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// Rebuild tone files so duration matches the new WPM.\n\t\t\t\tthis.audioReady = false\n\t\t\t\tthis.dotPath = ''\n\t\t\t\tthis.dashPath = ''\n\t\t\t\tif (this.dotAudioCtx) {\n\t\t\t\t\tthis.dotAudioCtx.stop()\n\t\t\t\t}\n\t\t\t\tif (this.dashAudioCtx) {\n\t\t\t\t\tthis.dashAudioCtx.stop()\n\t\t\t\t}\n\t\t\t\tthis.prepareToneFiles()\n\t\t\t},\n\t\t\tonToneChange(event) {\n\t\t\t\tconst value = Number(event.detail.value)\n\t\t\t\tthis.toneFreq = Math.max(300, Math.min(1200, value))\n\t\t\t\tthis.clearScheduledTimers()\n\t\t\t\tif (!this.useWebAudio) {\n\t\t\t\t\tthis.morseWave = new MorseCWWave({\n\t\t\t\t\t\twpm: this.wpm,\n\t\t\t\t\t\tfrequency: this.toneFreq,\n\t\t\t\t\t\tsampleRate: SAMPLE_RATE\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// Rebuild tone files so pitch matches the new tone frequency.\n\t\t\t\tthis.audioReady = false\n\t\t\t\tthis.dotPath = ''\n\t\t\t\tthis.dashPath = ''\n\t\t\t\tif (this.dotAudioCtx) {\n\t\t\t\t\tthis.dotAudioCtx.stop()\n\t\t\t\t}\n\t\t\t\tif (this.dashAudioCtx) {\n\t\t\t\t\tthis.dashAudioCtx.stop()\n\t\t\t\t}\n\t\t\t\tthis.prepareToneFiles()\n\t\t\t},\n\t\t\tsetupAudio() {\n\t\t\t\tif (this.dotAudioCtx || this.dashAudioCtx || this.webAudioCtx || typeof uni === 'undefined') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (typeof wx !== 'undefined' && wx.createWebAudioContext) {\n\t\t\t\t\tthis.useWebAudio = true\n\t\t\t\t\tthis.webAudioCtx = wx.createWebAudioContext()\n\t\t\t\t\tthis.prepareToneFiles()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (uni.createInnerAudioContext) {\n\t\t\t\t\tthis.morseWave = new MorseCWWave({\n\t\t\t\t\t\twpm: this.wpm,\n\t\t\t\t\t\tfrequency: this.toneFreq,\n\t\t\t\t\t\tsampleRate: SAMPLE_RATE\n\t\t\t\t\t})\n\t\t\t\t\tthis.dotAudioCtx = uni.createInnerAudioContext()\n\t\t\t\t\tthis.dashAudioCtx = uni.createInnerAudioContext()\n\t\t\t\t\tthis.dotAudioCtx.obeyMuteSwitch = false\n\t\t\t\t\tthis.dashAudioCtx.obeyMuteSwitch = false\n\t\t\t\t\tconst releaseKey = () => {\n\t\t\t\t\t\tthis.isKeying = false\n\t\t\t\t\t}\n\t\t\t\t\tthis.dotAudioCtx.onEnded(releaseKey)\n\t\t\t\t\tthis.dashAudioCtx.onEnded(releaseKey)\n\t\t\t\t\tthis.dotAudioCtx.onError(releaseKey)\n\t\t\t\t\tthis.dashAudioCtx.onError(releaseKey)\n\t\t\t\t\tthis.prepareToneFiles()\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearScheduledTimers() {\n\t\t\t\tthis.stopAllAutoRepeat()\n\t\t\t\tthis.keyDown['.'] = false\n\t\t\t\tthis.keyDown['-'] = false\n\t\t\t\tif (this.recordStopTimer) {\n\t\t\t\t\tclearTimeout(this.recordStopTimer)\n\t\t\t\t\tthis.recordStopTimer = null\n\t\t\t\t}\n\t\t\t\tif (this.charGapTimer) {\n\t\t\t\t\tclearTimeout(this.charGapTimer)\n\t\t\t\t\tthis.charGapTimer = null\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < this.scheduledTimers.length; i += 1) {\n\t\t\t\t\tclearTimeout(this.scheduledTimers[i])\n\t\t\t\t}\n\t\t\t\tthis.scheduledTimers = []\n\t\t\t\tthis.inputQueue = []\n\t\t\t\tthis.nextAvailableAt = 0\n\t\t\t\tthis.lastScheduledEndAt = 0\n\t\t\t\tthis.isKeying = false\n\t\t\t\tif (this.cwDecoder) {\n\t\t\t\t\tthis.cwDecoder.reset()\n\t\t\t\t}\n\t\t\t\tthis.initDecoderQueue()\n\t\t\t\tthis.decoderText = ''\n\t\t\t},\n\t\t\tteardownAudio() {\n\t\t\t\tthis.clearScheduledTimers()\n\t\t\t\tif (this.webAudioCtx) {\n\t\t\t\t\tif (this.webAudioCtx.close) {\n\t\t\t\t\t\tthis.webAudioCtx.close()\n\t\t\t\t\t}\n\t\t\t\t\tthis.webAudioCtx = null\n\t\t\t\t}\n\t\t\t\tthis.dotBuffer = null\n\t\t\t\tthis.dashBuffer = null\n\t\t\t\tthis.useWebAudio = false\n\t\t\t\tif (this.dotAudioCtx) {\n\t\t\t\t\tthis.dotAudioCtx.stop()\n\t\t\t\t\tthis.dotAudioCtx.destroy()\n\t\t\t\t\tthis.dotAudioCtx = null\n\t\t\t\t}\n\t\t\t\tif (this.dashAudioCtx) {\n\t\t\t\t\tthis.dashAudioCtx.stop()\n\t\t\t\t\tthis.dashAudioCtx.destroy()\n\t\t\t\t\tthis.dashAudioCtx = null\n\t\t\t\t}\n\t\t\t\tthis.morseWave = null\n\t\t\t\tthis.audioReady = false\n\t\t\t\tthis.dotPath = ''\n\t\t\t\tthis.dashPath = ''\n\t\t\t},\n\t\t\tprepareToneFiles() {\n\t\t\t\tif (this.useWebAudio && this.webAudioCtx) {\n\t\t\t\t\tconst unitMs = this.getUnitMs()\n\t\t\t\t\tconst dotSamples = buildMarkSamples('.', unitMs, SAMPLE_RATE, this.toneFreq)\n\t\t\t\t\tconst dashSamples = buildMarkSamples('-', unitMs, SAMPLE_RATE, this.toneFreq)\n\t\t\t\t\tconst dotBuffer = this.webAudioCtx.createBuffer(1, dotSamples.length, SAMPLE_RATE)\n\t\t\t\t\tconst dashBuffer = this.webAudioCtx.createBuffer(1, dashSamples.length, SAMPLE_RATE)\n\t\t\t\t\tdotBuffer.getChannelData(0).set(new Float32Array(dotSamples))\n\t\t\t\t\tdashBuffer.getChannelData(0).set(new Float32Array(dashSamples))\n\t\t\t\t\tthis.dotBuffer = dotBuffer\n\t\t\t\t\tthis.dashBuffer = dashBuffer\n\t\t\t\t\tthis.audioReady = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (typeof wx === 'undefined' || !wx.getFileSystemManager || !wx.env || !wx.env.USER_DATA_PATH) {\n\t\t\t\t\tthis.audioReady = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst fs = wx.getFileSystemManager()\n\t\t\t\tconst unitMs = this.getUnitMs()\n\t\t\t\tconst dotSamples = buildMarkSamples('.', unitMs, SAMPLE_RATE, this.toneFreq)\n\t\t\t\tconst dashSamples = buildMarkSamples('-', unitMs, SAMPLE_RATE, this.toneFreq)\n\t\t\t\tconst dotPath = `${wx.env.USER_DATA_PATH}/cw_dot_${this.wpm}_${this.toneFreq}.wav`\n\t\t\t\tconst dashPath = `${wx.env.USER_DATA_PATH}/cw_dash_${this.wpm}_${this.toneFreq}.wav`\n\t\t\t\tconst writeWav = (path, samples, done) => {\n\t\t\t\t\tfs.writeFile({\n\t\t\t\t\t\tfilePath: path,\n\t\t\t\t\t\tdata: encodeWav(samples, SAMPLE_RATE),\n\t\t\t\t\t\tsuccess: () => done(true),\n\t\t\t\t\t\tfail: () => done(false)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tlet successCount = 0\n\t\t\t\tconst total = 2\n\t\t\t\tconst markReady = () => {\n\t\t\t\t\tif (successCount === total) {\n\t\t\t\t\t\tthis.dotPath = dotPath\n\t\t\t\t\t\tthis.dashPath = dashPath\n\t\t\t\t\t\tif (this.dotAudioCtx) {\n\t\t\t\t\t\t\tthis.dotAudioCtx.src = dotPath\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.dashAudioCtx) {\n\t\t\t\t\t\t\tthis.dashAudioCtx.src = dashPath\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.audioReady = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twriteWav(dotPath, dotSamples, (ok) => {\n\t\t\t\t\tif (ok) {\n\t\t\t\t\t\tsuccessCount += 1\n\t\t\t\t\t}\n\t\t\t\t\tmarkReady()\n\t\t\t\t})\n\t\t\t\twriteWav(dashPath, dashSamples, (ok) => {\n\t\t\t\t\tif (ok) {\n\t\t\t\t\t\tsuccessCount += 1\n\t\t\t\t\t}\n\t\t\t\t\tmarkReady()\n\t\t\t\t})\n\t\t\t},\n\t\t\tprocessQueue() {\n\t\t\t\tif (this.inputQueue.length === 0) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\twhile (this.inputQueue.length > 0) {\n\t\t\t\t\tconst mark = this.inputQueue.shift()\n\t\t\t\t\tthis.scheduleMark(mark)\n\t\t\t\t}\n\t\t\t},\n\t\t\tscheduleMark(mark) {\n\t\t\t\tconst unitMs = this.getUnitMs()\n\t\t\t\tconst now = Date.now()\n\t\t\t\tlet startAt = Math.max(now, this.nextAvailableAt || 0)\n\t\t\t\t// If we've been idle for a long gap, treat this as a new recording session.\n\t\t\t\tif (this.lastScheduledEndAt && !this.keyDown['.'] && !this.keyDown['-']) {\n\t\t\t\t\tconst idleGapMs = startAt - this.lastScheduledEndAt\n\t\t\t\t\tif (idleGapMs >= unitMs * 10) {\n\t\t\t\t\t\tthis.stopRecordingAndDecode(unitMs)\n\t\t\t\t\t\tstartAt = now\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst markUnits = mark === '-' ? 3 : 1\n\t\t\t\tconst toneMs = unitMs * markUnits\n\t\t\t\tconst gapMs = unitMs\n\t\t\t\tconst durationMs = toneMs + gapMs\n\t\t\t\tconst endAt = startAt + durationMs\n\t\t\t\tthis.nextAvailableAt = endAt\n\t\t\t\tthis.lastScheduledEndAt = endAt\n\t\t\t\t// Make the UI feel immediate on mobile.\n\t\t\t\tthis.sendCW(mark)\n\t\t\t\t// Record the scheduled mark into a synthetic audio buffer.\n\t\t\t\tif (this.cwDecoder) {\n\t\t\t\t\tthis.cwDecoder.recordMark(mark, startAt, unitMs)\n\t\t\t\t}\n\t\t\t\tconst startDelay = Math.max(0, startAt - now)\n\t\t\t\tconst startTimer = setTimeout(() => {\n\t\t\t\t\tthis.playMarkNow(mark, unitMs, durationMs)\n\t\t\t\t}, startDelay)\n\t\t\t\tthis.scheduledTimers.push(startTimer)\n\t\t\t\tthis.rescheduleGapTimers(unitMs)\n\t\t\t},\n\t\t\trescheduleGapTimers(unitMs) {\n\t\t\t\tif (!this.lastScheduledEndAt) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (this.recordStopTimer) {\n\t\t\t\t\tclearTimeout(this.recordStopTimer)\n\t\t\t\t\tthis.recordStopTimer = null\n\t\t\t\t}\n\t\t\t\tif (this.charGapTimer) {\n\t\t\t\t\tclearTimeout(this.charGapTimer)\n\t\t\t\t\tthis.charGapTimer = null\n\t\t\t\t}\n\t\t\t\t// Do not stop/decode while the user is still holding a key.\n\t\t\t\tif (this.keyDown['.'] || this.keyDown['-'] || !this.cwDecoder || !this.cwDecoder.isRecording) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst scheduledEndAt = this.lastScheduledEndAt\n\t\t\t\tconst now = Date.now()\n\t\t\t\tconst charGapAt = scheduledEndAt + unitMs * 2\n\t\t\t\tconst charDelay = Math.max(0, charGapAt - now)\n\t\t\t\tthis.charGapTimer = setTimeout(() => {\n\t\t\t\t\tif (this.lastScheduledEndAt !== scheduledEndAt) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (this.keyDown['.'] || this.keyDown['-']) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.applyDecodedResult(this.cwDecoder.flushChar(false))\n\t\t\t\t}, charDelay)\n\t\t\t\t// lastScheduledEndAt already includes the 1-unit intra-character gap,\n\t\t\t\t// so waiting another 9 units yields a full 10-unit word gap.\n\t\t\t\tconst stopAt = scheduledEndAt + unitMs * 9\n\t\t\t\tconst stopDelay = Math.max(0, stopAt - now)\n\t\t\t\tthis.recordStopTimer = setTimeout(() => {\n\t\t\t\t\tif (this.lastScheduledEndAt !== scheduledEndAt) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (this.keyDown['.'] || this.keyDown['-']) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.stopRecordingAndDecode(unitMs)\n\t\t\t\t}, stopDelay)\n\t\t\t},\n\t\t\tplayMarkNow(mark, unitMs, durationMs) {\n\t\t\t\tthis.isKeying = true\n\t\t\t\tconst releaseTimer = setTimeout(() => {\n\t\t\t\t\tthis.isKeying = false\n\t\t\t\t}, durationMs)\n\t\t\t\tthis.scheduledTimers.push(releaseTimer)\n\t\t\t\tif (this.useWebAudio && this.webAudioCtx && this.audioReady) {\n\t\t\t\t\tconst buffer = mark === '-' ? this.dashBuffer : this.dotBuffer\n\t\t\t\t\tif (!buffer) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tconst source = this.webAudioCtx.createBufferSource()\n\t\t\t\t\tsource.buffer = buffer\n\t\t\t\t\tsource.connect(this.webAudioCtx.destination)\n\t\t\t\t\tif (this.webAudioCtx.resume) {\n\t\t\t\t\t\tthis.webAudioCtx.resume()\n\t\t\t\t\t}\n\t\t\t\t\tsource.start(0)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (!this.audioReady || !this.dotAudioCtx || !this.dashAudioCtx) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst audioCtx = mark === '-' ? this.dashAudioCtx : this.dotAudioCtx\n\t\t\t\taudioCtx.stop()\n\t\t\t\taudioCtx.seek(0)\n\t\t\t\taudioCtx.play()\n\t\t\t},\n\t\t\tappendDecodedText(decodedText, withSpace) {\n\t\t\t\tconst text = (decodedText || '').trim()\n\t\t\t\tif (!text) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst payload = `${withSpace ? ' ' : ''}${text}`\n\t\t\t\tfor (let i = 0; i < payload.length; i += 1) {\n\t\t\t\t\tfor (let j = 0; j < this.decoderQueue.length - 1; j += 1) {\n\t\t\t\t\t\tthis.decoderQueue[j] = this.decoderQueue[j + 1]\n\t\t\t\t\t}\n\t\t\t\t\tthis.decoderQueue[this.decoderQueue.length - 1] = payload[i]\n\t\t\t\t}\n\t\t\t\tthis.decoderText = this.decoderQueue.join('')\n\t\t\t},\n\t\t\tinitDecoderQueue() {\n\t\t\t\tthis.decoderQueue = new Array(20).fill(' ')\n\t\t\t},\n\t\t\tshiftDecoderQueue() {\n\t\t\t\tif (!this.decoderQueue.length) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < this.decoderQueue.length - 1; i += 1) {\n\t\t\t\t\tthis.decoderQueue[i] = this.decoderQueue[i + 1]\n\t\t\t\t}\n\t\t\t\tthis.decoderQueue[this.decoderQueue.length - 1] = ' '\n\t\t\t\tthis.decoderText = this.decoderQueue.join('')\n\t\t\t},\n\t\t\tapplyDecodedResult(result) {\n\t\t\t\tif (!result || !result.text) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.appendDecodedText(result.text, result.withSpace)\n\t\t\t},\n\t\t\tstopRecordingAndDecode(unitMs) {\n\t\t\t\tif (!this.cwDecoder) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.applyDecodedResult(this.cwDecoder.stopRecordingAndDecode())\n\t\t\t},\n\t\t\tupdateFrequencyFromScroll(scrollLeft) {\n\t\t\t\tthis.currentFrequency = calcFrequencyFromScroll({\n\t\t\t\t\tscrollLeft,\n\t\t\t\t\trulerViewportWidth: this.rulerViewportWidth,\n\t\t\t\t\trulerSpacer: this.rulerSpacer,\n\t\t\t\t\ttotalBandWidth: this.totalBandWidth,\n\t\t\t\t\tbandSegments: this.bandSegments,\n\t\t\t\t\tpxPerMHz: this.pxPerMHz\n\t\t\t\t})\n\t\t\t},\n\t\t\tscrollLeftForFrequency(freq) {\n\t\t\t\treturn calcScrollLeftForFrequency({\n\t\t\t\t\tfreq,\n\t\t\t\t\tbandSegments: this.bandSegments,\n\t\t\t\t\trulerSpacer: this.rulerSpacer,\n\t\t\t\t\trulerViewportWidth: this.rulerViewportWidth,\n\t\t\t\t\tpxPerMHz: this.pxPerMHz\n\t\t\t\t})\n\t\t\t},\n\t\t\taddWaterfallRow() {\r\n\t\t\t\tconst now = Date.now()\r\n\t\t\t\tconst points = this.signals.map((signal) => ({\r\n\t\t\t\t\tid: `wf-${now}-${signal.id}`,\r\n\t\t\t\t\tfreq: signal.freq,\r\n\t\t\t\t\tstrength: signal.strength,\r\n\t\t\t\t\tsource: signal.source\r\n\t\t\t\t}))\r\n\t\t\t\tconst noiseCount = Math.floor(Math.random() * 3)\n\t\t\t\tfor (let i = 0; i < noiseCount; i += 1) {\n\t\t\t\t\tpoints.push({\n\t\t\t\t\t\tid: `wf-noise-${now}-${i}`,\n\t\t\t\t\t\tfreq: randomBandFrequency(this.bands),\n\t\t\t\t\t\tstrength: 0.2 + Math.random() * 0.4,\n\t\t\t\t\t\tsource: 'others'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.waterfallRows.unshift({\r\n\t\t\t\t\tid: `row-${now}-${Math.random().toString(16).slice(2)}`,\r\n\t\t\t\t\tpoints\r\n\t\t\t\t})\r\n\t\t\t\tthis.waterfallRows = this.waterfallRows.slice(0, WATERFALL_ROWS)\r\n\t\t\t},\r\n\t\t\tsendCW(mark) {\n\t\t\t\tconst signal = createSignal({\n\t\t\t\t\tidPrefix: 'me',\n\t\t\t\t\tfreq: this.currentFrequency,\n\t\t\t\t\tstrengthMin: 0.7,\n\t\t\t\t\tstrengthMax: 1.0,\n\t\t\t\t\tdurationMs: SIGNAL_DURATION,\n\t\t\t\t\tsource: 'me'\n\t\t\t\t})\n\t\t\t\tthis.signals.push(signal)\n\t\t\t},\n\t\t\tspawnNoiseSignal() {\n\t\t\t\tconst now = Date.now()\n\t\t\t\tconst signal = createSignal({\n\t\t\t\t\tidPrefix: 'noise',\n\t\t\t\t\tfreq: randomBandFrequency(this.bands),\n\t\t\t\t\tstrengthMin: 0.4,\n\t\t\t\t\tstrengthMax: 0.9,\n\t\t\t\t\tdurationMs: SIGNAL_DURATION,\n\t\t\t\t\tsource: 'others',\n\t\t\t\t\tnow\n\t\t\t\t})\n\t\t\t\tthis.signals.push(signal)\n\t\t\t},\n\t\t\ttickSignals() {\n\t\t\t\tconst now = Date.now()\n\t\t\t\tthis.signals = this.signals.filter((signal) => signal.expiresAt > now)\n\t\t\t},\n\t\t\ttickStyle(tick) {\n\t\t\t\treturn `left:${tick.x}px;`\n\t\t\t},\n\t\t\trulerSignalStyle(signal) {\r\n\t\t\t\tconst band = this.bandSegments.find((segment) => signal.freq >= segment.min && signal.freq <= segment.max)\r\n\t\t\t\tconst segment = band || this.bandSegments[0]\r\n\t\t\t\tconst left = this.rulerSpacer + segment.startX + (signal.freq - segment.min) * this.pxPerMHz\r\n\t\t\t\tconst height = 24 + signal.strength * 70\r\n\t\t\t\treturn `left:${left}px;height:${height}px;`\r\n\t\t\t},\r\n\t\t\twaterfallRowStyle(index) {\r\n\t\t\t\tconst top = index * 6\r\n\t\t\t\treturn `top:${top}rpx;`\r\n\t\t\t},\r\n\t\t\twaterfallPointStyle(point) {\r\n\t\t\t\tconst band = this.bandSegments.find((segment) => point.freq >= segment.min && point.freq <= segment.max)\r\n\t\t\t\tconst segment = band || this.bandSegments[0]\r\n\t\t\t\tconst left = this.rulerSpacer + segment.startX + (point.freq - segment.min) * this.pxPerMHz\r\n\t\t\t\tconst opacity = 0.25 + point.strength * 0.6\r\n\t\t\t\treturn `left:${left}px;opacity:${opacity};`\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\n\t.page {\n\t\tmin-height: 100vh;\n\t\tpadding: 30rpx;\n\t\tbackground: radial-gradient(circle at top, #1f1f2b 0%, #121219 45%, #0a0a0f 100%);\n\t\tcolor: #f2f2f2;\n\t\tfont-family: \"Menlo\", \"Consolas\", \"Courier New\", monospace;\n\t}\n</style>\n","import MiniProgramPage from '/Users/liruixiang/Desktop/CWX/CWX/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["buildBandSegments","buildTicks","CwDecoderEngine","uni","MorseCWWave","wx","unitMs","dotSamples","buildMarkSamples","dashSamples","encodeWav","calcFrequencyFromScroll","calcScrollLeftForFrequency","randomBandFrequency","createSignal","segment"],"mappings":"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"}